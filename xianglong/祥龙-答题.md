# 祥龙-答题

## 2021-11-30

1.

![image-20211130154838068](祥龙-答题.assets/image-20211130154838068-16382585198731.png)

该目录下创建django工程文件

![image-20211130155107606](祥龙-答题.assets/image-20211130155107606-16382586688223.png)

创建app

![image-20211130155232456](祥龙-答题.assets/image-20211130155232456-16382587542414.png)

初始化数据库

![image-20211130155400330](祥龙-答题.assets/image-20211130155400330-16382588421215.png)

![image-20211130155416429](祥龙-答题.assets/image-20211130155416429-16382588576226.png)

测试运行

![image-20211130155519758](祥龙-答题.assets/image-20211130155519758-16382589212747.png)





### 1.1、有一个测试api，可以拿到数据库的数据，json格式 

分析：1，拿到数据库数据，再进行json格式化，最后设置路由api

#### 设置数据库

进入app01/models.py,

![image-20211130160556351](祥龙-答题.assets/image-20211130160556351-16382595576049.png)

由于忘了字段名字的名称，进入CharField源码中查找该字段名称

![image-20211130160534289](祥龙-答题.assets/image-20211130160534289-16382595353408.png)

找到名称



创建完数据库

![image-20211130161115681](祥龙-答题.assets/image-20211130161115681-163825987687312.png)

在settings.py设置应用

![image-20211130161012703](祥龙-答题.assets/image-20211130161012703-163825981384111.png)

更新

> py manage.py makemigrations
>
> py manage.py migrate



![image-20211130161234216](祥龙-答题.assets/image-20211130161234216-163825995520813.png)



#### 设置视窗

views.py

![image-20211130162340624](祥龙-答题.assets/image-20211130162340624.png)

先设置好模板

先简单写好测试内容

![image-20211130164637102](祥龙-答题.assets/image-20211130164637102-163826199791321.png)





#### 设置路由映射api

settings.py

![image-20211130163655057](祥龙-答题.assets/image-20211130163655057-163826141635520.png)

​	ps: 不加前缀包含给其他url不需要加斜杠

app01下创建urls.py 文件，复制模板过去

![image-20211130163638295](祥龙-答题.assets/image-20211130163638295-163826139945619.png)

修改文件

![image-20211130163232857](祥龙-答题.assets/image-20211130163232857-163826115404118.png)





#### 测试

1. json数据的返回

![image-20211130165509890](祥龙-答题.assets/image-20211130165509890-163826251139322.png)

2. 路由id

![image-20211130165702787](祥龙-答题.assets/image-20211130165702787-163826262356323.png)

3. 其他方法

ps: 测试post需要先把csrf关了

![image-20211130165859657](祥龙-答题.assets/image-20211130165859657-163826274090824.png)

![image-20211130165913836](祥龙-答题.assets/image-20211130165913836-163826275474625.png)

![image-20211130165938605](祥龙-答题.assets/image-20211130165938605-163826277931026.png)

![image-20211130170005587](祥龙-答题.assets/image-20211130170005587-163826280634827.png)



![image-20211130170030545](祥龙-答题.assets/image-20211130170030545-163826283144128.png)





#### post_test方法完成

![image-20211130172801578](祥龙-答题.assets/image-20211130172801578-163826448550232.png)

##### post_test方法测试

![image-20211130172731140](祥龙-答题.assets/image-20211130172731140-163826445252431.png)

![image-20211130172902453](祥龙-答题.assets/image-20211130172902453-163826454430833.png)



![image-20211130172633657](祥龙-答题.assets/image-20211130172633657-163826439744029.png)

![image-20211130172655057](祥龙-答题.assets/image-20211130172655057-163826441631130.png)

#### get_all_test方法完成

![image-20211130174443950](祥龙-答题.assets/image-20211130174443950-163826548519936.png)



##### 添加使用错误方法访问API方法

![image-20211130174431303](祥龙-答题.assets/image-20211130174431303-163826547224835.png)

##### get_all_test方法测试

post方法访问

![image-20211130174527821](祥龙-答题.assets/image-20211130174527821-163826552885837.png)

正常访问

![image-20211130174556765](祥龙-答题.assets/image-20211130174556765-163826555771738.png)

